import{m as te,w as se,C as oe,h as b,j as e,F as _,a as z,b as J,c as ae,d as H,e as Q,f as K,r as g,g as re,i as ne,k as le,l as ie,u as $,A as I,n as F,L,N as W,B as ce,R as de,o as k,p as me}from"./vendor-DOh1s_1u.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const ue=te(b),xe=se(oe),X=({events:s,onEventDrop:a,onSelectEvent:r})=>{const i=({event:m,date:l})=>{const c={...m,id:m._id||m.id,start:new Date(l),end:new Date(l.getTime()+36e5)};a(c)},o=s.map(m=>({...m,id:m._id||m.id,start:new Date(m.date),end:new Date(new Date(m.date).getTime()+36e5)})),n=m=>({style:{backgroundColor:"#ffdd57",color:"black",padding:"5px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"14px"}}),d=({event:m})=>e.jsx("div",{className:"custom-event",children:m.companyName});return e.jsx("div",{className:"calendar-wrapper",children:e.jsx(xe,{localizer:ue,events:o,onEventDrop:i,onSelectEvent:r,style:{height:"calc(100vh - 100px)"},defaultView:"month",views:["month","week","day"],step:30,showMultiDayTimes:!0,resizable:!0,selectable:!0,popup:!0,draggableAccessor:()=>!0,eventPropGetter:n,components:{event:d}})})},he=({events:s,openEditModal:a,onDelete:r})=>{const i=s.filter(o=>b(o.date).isSame(new Date,"day")).sort((o,n)=>b(o.date).diff(b(n.date)));return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-4 shadow-md w-full",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-3 border-b border-gray-300 pb-1",children:["Today's Events - ",i.length]}),e.jsx("ul",{className:"list-none p-0 m-0 h-[200px] overflow-y-auto w-full",children:i.length>0?i.map(o=>e.jsx("li",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 p-2 mb-2 rounded-lg border-l-4 border-indigo-500 hover:bg-indigo-200 hover:border-indigo-600 hover:shadow-sm transition-all duration-300 w-full",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-gray-800 text-sm font-semibold flex items-center",children:[e.jsx(_,{className:"w-4 h-4 text-indigo-600 mr-2"}),e.jsx("strong",{children:o.companyName||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(z,{className:"w-4 h-4 text-indigo-600 mr-1"}),e.jsx("span",{children:o.meetingGoal||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(J,{className:"w-4 h-4 text-green-600 mr-1"}),e.jsx("span",{children:o.location||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(ae,{className:"w-4 h-4 text-blue-600 mr-1"}),e.jsx("a",{href:o.linkedinProfile||"#",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-800",children:o.linkedinProfile||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(H,{className:"w-4 h-4 text-red-600 mr-1"}),e.jsx("span",{children:o.emails||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(Q,{className:"w-4 h-4 text-yellow-600 mr-1"}),e.jsx("span",{children:o.phoneNumbers||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(K,{className:"w-4 h-4 text-yellow-600 mr-1"}),b(o.date).format("MMM D, h:mm A")||"N/A"]}),e.jsxs("div",{className:"space-x-1 mt-2",children:[e.jsx("button",{onClick:()=>a(o),className:"px-2 py-1 text-xs bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Edit"}),e.jsx("button",{onClick:()=>r(o),className:"px-2 py-1 text-xs bg-red-500 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})},o.id)):e.jsx("li",{className:"text-center text-gray-500 italic py-4 w-full",children:"No events found!"})})]})},ge=({events:s,openEditModal:a,onDelete:r})=>{const i=s.filter(d=>b(d.date).isBefore(new Date)),o=s.filter(d=>b(d.date).isSameOrBefore(new Date,"day")&&b(d.date).isSame(new Date,"day")),n=s.filter(d=>b(d.date).isAfter(new Date,"today")).sort((d,m)=>b(d.date).diff(b(m.date)));return e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 via-white to-gray-50 rounded-lg p-4 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b border-gray-300 pb-2 mb-4",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-blue-200 p-3 rounded-lg text-center shadow-md",children:[e.jsx("div",{className:"text-blue-600 text-2xl font-extrabold mb-1",children:s.length}),e.jsx("div",{className:"text-gray-700 text-xs font-medium",children:"Total Events"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-green-200 p-3 rounded-lg text-center shadow-md",children:[e.jsx("div",{className:"text-green-600 text-2xl font-extrabold mb-1",children:i.length}),e.jsx("div",{className:"text-gray-700 text-xs font-medium",children:"Done Events"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-100 to-yellow-200 p-3 rounded-lg text-center shadow-md",children:[e.jsx("div",{className:"text-yellow-600 text-2xl font-extrabold mb-1",children:o.length}),e.jsx("div",{className:"text-gray-700 text-xs font-medium",children:"Today's Events"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-orange-200 p-3 rounded-lg text-center shadow-md",children:[e.jsx("div",{className:"text-orange-500 text-2xl font-extrabold mb-1",children:n.length}),e.jsx("div",{className:"text-gray-700 text-xs font-medium",children:"Next Events"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-md font-semibold text-gray-800 mb-2",children:"Next Events"}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:n.map(d=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gradient-to-r from-gray-100 via-white to-gray-50 rounded-lg shadow hover:scale-105 transition-transform duration-300 mb-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-800 font-semibold text-sm",children:d.companyName}),e.jsx("div",{className:"text-gray-600 text-xs",children:b(d.date).format("MMM D, h:mm A")})]}),e.jsx("button",{onClick:()=>a(d),className:"px-2 py-1 text-xs bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Edit"}),e.jsx("button",{onClick:()=>r(d),className:"px-2 py-1 text-xs bg-red-500 text-white rounded-lg hover:bg-red-700",children:"Delete"})]},d.id))})]})]})},fe=({showModal:s,newEvent:a={companyName:"",meetingGoal:"",location:"",linkedinProfile:"",emails:[],phoneNumbers:[],date:"",comments:"",communicationPeriodicity:"",communicationStatus:""},handleInputChange:r,handleSubmitNewEvent:i,closeModal:o})=>{if(!s)return null;const n=d=>(console.log(d),d?new Date(d).toISOString().slice(0,16):"");return e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex justify-center items-center z-50 animate-fade-in",children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-100 p-6 rounded-3xl w-11/12 max-w-4xl max-h-[90vh] overflow-auto shadow-2xl backdrop-blur-lg animate-slide-in",children:[e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2 mb-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Book an Appointment"}),e.jsx("button",{className:"text-2xl text-gray-500 hover:text-red-600 transition-transform transform hover:rotate-90",onClick:o,children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Company Name"}),e.jsx("input",{type:"text",name:"companyName",value:a.companyName||"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Company Name"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Meeting Goal"}),e.jsx("input",{type:"text",name:"meetingGoal",value:a.meetingGoal||"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter appointment title"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:a.location||"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Location"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"LinkedIn Profile"}),e.jsx("input",{type:"text",name:"linkedinProfile",value:a.linkedinProfile||"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter LinkedIn Profile"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Email"}),e.jsx("input",{type:"text",name:"emails",value:a.emails.join(", ")||"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Email(s)"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Phone Numbers"}),e.jsx("input",{type:"text",name:"phoneNumbers",value:Array.isArray(a.phoneNumbers)?a.phoneNumbers.join(", "):"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Phone Numbers (comma separated)"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Method"}),e.jsxs("select",{name:"communicationMethod",value:a.communicationMethod||"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"LinkedIn Post",children:"LinkedIn Post"}),e.jsx("option",{value:"LinkedIn Message",children:"LinkedIn Message"}),e.jsx("option",{value:"Email",children:"Email"}),e.jsx("option",{value:"Phone Call",children:"Phone Call"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Status"}),e.jsxs("select",{name:"communicationStatus",value:a.communicationStatus||"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Overdue",children:"Overdue"}),e.jsx("option",{value:"Due Today",children:"Due Today"}),e.jsx("option",{value:"Upcoming",children:"Upcoming"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Comments"}),e.jsx("textarea",{name:"comments",value:a.comments||"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter any comments",rows:"3"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Periodicity"}),e.jsx("input",{type:"text",name:"communicationPeriodicity",value:a.communicationPeriodicity||"",onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"e.g., every 3 weeks"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Select Date & Time"}),e.jsx("input",{type:"datetime-local",name:"date",value:n(a.date),onChange:r,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",min:new Date().toISOString().slice(0,16)})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[e.jsx("button",{className:"px-4 py-1.5 bg-gray-200 text-gray-600 font-semibold rounded-lg hover:bg-gray-300 hover:text-gray-800 transition transform hover:scale-105 text-xs",onClick:o,children:"Cancel"}),e.jsx("button",{className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-blue-700 transition transform hover:scale-105 text-xs",onClick:i,children:"Create Appointment"})]})]})})},be=({event:s,onSubmit:a,closeModal:r})=>{const[i,o]=g.useState({});g.useEffect(()=>{o(s||{})},[s]);const n=l=>{const{name:c,value:x}=l.target;if(c==="emails"||c==="phoneNumbers"){const j=x.split(",").map(N=>N.trim());o(N=>({...N,[c]:j}))}else o(j=>({...j,[c]:x}))},d=l=>{l.preventDefault(),a(i)},m=l=>l?new Date(l).toISOString().slice(0,16):"";return i?e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex justify-center items-center z-50 animate-fade-in",children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-100 p-6 rounded-3xl w-11/12 max-w-4xl max-h-[90vh] overflow-auto shadow-2xl backdrop-blur-lg animate-slide-in",children:[e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2 mb-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Edit Event"}),e.jsx("button",{className:"text-2xl text-gray-500 hover:text-red-600 transition-transform transform hover:rotate-90",onClick:r,children:"×"})]}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Company Name"}),e.jsx("input",{type:"text",name:"companyName",value:i.companyName||"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Company Name"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Meeting Goal"}),e.jsx("input",{type:"text",name:"meetingGoal",value:i.meetingGoal||"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Meeting Goal"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:i.location||"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Location"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"LinkedIn Profile"}),e.jsx("input",{type:"text",name:"linkedinProfile",value:i.linkedinProfile||"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter LinkedIn Profile"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Emails"}),e.jsx("input",{type:"text",name:"emails",value:i.emails?i.emails.join(", "):"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Emails (comma separated)"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Phone Numbers"}),e.jsx("input",{type:"text",name:"phoneNumbers",value:i.phoneNumbers?i.phoneNumbers.join(", "):"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Phone Numbers (comma separated)"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Method"}),e.jsxs("select",{name:"communicationMethod",value:i.communicationMethod||"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"LinkedIn Post",children:"LinkedIn Post"}),e.jsx("option",{value:"LinkedIn Message",children:"LinkedIn Message"}),e.jsx("option",{value:"Email",children:"Email"}),e.jsx("option",{value:"Phone Call",children:"Phone Call"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Status"}),e.jsxs("select",{name:"communicationStatus",value:i.communicationStatus||"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Overdue",children:"Overdue"}),e.jsx("option",{value:"Due Today",children:"Due Today"}),e.jsx("option",{value:"Upcoming",children:"Upcoming"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Comments"}),e.jsx("textarea",{name:"comments",value:i.comments||"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Comments",rows:"3"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Periodicity"}),e.jsx("input",{type:"text",name:"communicationPeriodicity",value:i.communicationPeriodicity||"",onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"e.g., every 3 weeks"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Start Date"}),e.jsx("input",{type:"datetime-local",name:"date",value:m(i.date),onChange:n,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-1.5 bg-gray-200 text-gray-600 font-semibold rounded-lg hover:bg-gray-300 hover:text-gray-800 transition transform hover:scale-105 text-xs",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-blue-700 hover:shadow-lg transition transform hover:scale-105 text-xs",children:"Save Changes"})]})]})]})}):null},D="https://calender-backend-1.onrender.com/api/v1/",A=async(s,a={})=>{try{const r=await fetch(s,a);if(!r.ok){const i=await r.json();throw new Error(`HTTP ${r.status}: ${i.message||r.statusText}`)}return await r.json()}catch(r){throw console.error(`Error in fetch: ${r.message}`),r}},Y=async()=>{try{const s=await A(`${D}event/getAllEvents`);return console.log(s),s.map(a=>({...a,id:a._id||a.id,date:new Date(a.date)}))}catch(s){return console.error("Error fetching events:",s),[]}},pe=async s=>{try{const a=s._id||s.id;if(!a)throw new Error("Event ID is required for update");const r={date:new Date(s.date).toISOString(),companyName:s.companyName,meetingGoal:s.meetingGoal,location:s.location,linkedinProfile:s.linkedinProfile,email:s.emails,phoneNumbers:s.phoneNumbers,communicationMethod:s.communicationMethod,communicationStatus:s.communicationStatus},i=await A(`${D}event/updateEvent/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return{...i,id:i._id||i.id,date:new Date(i.date)}}catch(a){throw console.error("Error updating event:",a),a}},Z=async s=>{try{const r=(Array.isArray(s)?s:[s]).map(n=>({...n,date:n.date.toISOString()})),o=(await A(`${D}event/createEvent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).events||[];return Array.isArray(o)?o.map(n=>({...n,date:new Date(n.date)})):(console.error("API response is not an array:",o),[])}catch(a){throw console.error("Error adding events:",a),a}},ye=async s=>{try{await A(`${D}event/deleteEvent/${s}`,{method:"DELETE"})}catch(a){throw console.error("Error deleting event:",a),a}},je=async s=>{try{return console.log(s),await A(`${D}auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(a){throw console.error("Error logging in:",a),a}},Ne=async s=>{try{const a=await A(`${D}auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return localStorage.setItem("authToken",a.token),a}catch(a){throw console.error("Error signing up:",a),a}},we=async(s,a)=>{try{return await A(`${D}auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,newPassword:a})})}catch(r){throw console.error("Error resetting password:",r),r}},ve=({events:s})=>{const a=s.filter(r=>b(r.date).isBefore(new Date));return e.jsx("div",{className:"bg-gradient-to-r from-gray-50 via-white to-gray-50 rounded-lg p-4 shadow-lg",children:e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"text-md font-semibold text-gray-800 mb-2",children:["Recent Events - ",a.length]}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:a.map(r=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gradient-to-r from-gray-100 via-white to-gray-50 rounded-lg shadow hover:scale-105 transition-transform duration-300 mb-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-800 font-semibold text-sm",children:r.companyName}),e.jsx("div",{className:"text-gray-600 text-xs",children:b(r.date).format("MMM D, h:mm A")})]})]},r.id||`${r.date.toISOString()}-${r.name}`))})]})})},Ce=({events:s,openEditModal:a,onDelete:r})=>{const i=s.filter(o=>b(o.date).isAfter(new Date)).sort((o,n)=>b(o.date).diff(b(n.date))).slice(0,2);return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-6 shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 border-b border-gray-300 pb-2",children:"Two On-going Events"}),e.jsx("ul",{className:"list-none p-0 m-0 max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:i.length>0?i.map(o=>e.jsx("li",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 p-4 mb-3 rounded-lg border-l-4 border-indigo-500 hover:bg-indigo-200 hover:border-indigo-600 hover:shadow-md transition-all duration-300",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("p",{className:"text-gray-800 text-sm font-semibold flex items-center",children:[e.jsx(_,{className:"w-4 h-4 text-indigo-600 mr-2"}),e.jsx("strong",{children:o.companyName||"N/A"})]})}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(z,{className:"w-4 h-4 text-indigo-600 mr-1"}),e.jsx("span",{children:o.meetingGoal||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(J,{className:"w-4 h-4 text-green-600 mr-1"}),e.jsx("span",{children:o.location||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(re,{className:"w-4 h-4 text-blue-600 mr-1"}),e.jsx("a",{href:o.linkedinProfile||"#",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-800",children:o.linkedinProfile||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(H,{className:"w-4 h-4 text-red-600 mr-1"}),e.jsx("span",{children:o.emails||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(Q,{className:"w-4 h-4 text-yellow-600 mr-1"}),e.jsx("span",{children:o.phoneNumbers||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(ne,{className:"w-4 h-4 text-yellow-600 mr-1"}),e.jsx("span",{children:o.communicationPeriodicity||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(le,{className:"w-4 h-4 text-yellow-600 mr-1"}),e.jsx("span",{children:o.comments||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(ie,{className:"w-4 h-4 text-yellow-600 mr-1"}),e.jsx("span",{children:o.communicationMethod||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[e.jsx(K,{className:"w-4 h-4 text-yellow-600 mr-1"}),b(o.date).format("MMM D, h:mm A")||"N/A"]})]})},o.id)):e.jsx("li",{className:"text-center text-gray-500 italic py-4",children:"No events today!"})})]})},Se=()=>{const[s,a]=g.useState([]),[r,i]=g.useState(!1),[o,n]=g.useState(!1),[d,m]=g.useState(!0),[l,c]=g.useState({companyName:"",meetingGoal:"",location:"",linkedinProfile:"",emails:[],phoneNumbers:"",communicationMethod:"",date:new Date,communicationStatus:""}),[x,j]=g.useState(""),[N,w]=g.useState(null),[T,G]=g.useState("overView"),E=$();g.useEffect(()=>{R()},[]),g.useEffect(()=>{console.log(s)},[s]);const U=f=>{j(f)},P=s.filter(f=>f.companyName.toLowerCase().includes(x.toLowerCase())||f.location.toLowerCase().includes(x.toLowerCase())||f.meetingGoal.toLowerCase().includes(x.toLowerCase())),R=async()=>{try{m(!0);const y=(await Y()).map(t=>({...t,date:new Date(t.date)}));a(y)}catch(f){console.error("Error loading events:",f)}finally{m(!1)}},O=async f=>{if(window.confirm("Would you like to delete this event?"))try{await ye(f.id),a(y=>y.filter(t=>t.id!==f.id))}catch(y){console.error("Error deleting event:",y)}},M=f=>{w(f),n(!0)},v=f=>{const{name:y,value:t}=f.target;if(y==="emails"){const u=t.split(",").map(p=>p.trim());c(p=>({...p,[y]:u}))}else if(y==="phoneNumbers"){const u=t.split(",").map(p=>p.trim());c(p=>({...p,[y]:u}))}else c(u=>({...u,[y]:t}))},q=async()=>{try{if(l.companyName&&l.meetingGoal&&l.location&&l.linkedinProfile&&l.emails.length>0&&l.phoneNumbers.length>0&&l.communicationMethod&&l.communicationStatus&&l.date){const f={...l,date:new Date(l.date)};a(t=>[...t,{...f,date:new Date(f.date)}]);const y=await Z(f);a(t=>[...t,{...y,date:new Date(y.date)}]),c({companyName:"",meetingGoal:"",location:"",linkedinProfile:"",emails:[],phoneNumbers:[],communicationMethod:"",communicationStatus:"",date:new Date}),i(!1)}else alert("Please fill in all fields.")}catch(f){console.error("Error creating event:",f)}},B=async f=>{try{const y={...f,date:new Date(f.date)};console.log("Event to update:",y);const t=await pe(y);a(u=>u.map(p=>p.id===f.id?{...f,date:new Date(f.date)}:p)),n(!1)}catch(y){console.error("Error updating event:",y)}};return d?e.jsx("div",{className:"loading",children:"Loading..."}):e.jsxs("div",{className:"dashboard",children:[e.jsxs("header",{className:"bg-gradient-to-r from-[#4f46e5] to-[#6366f1] p-2 text-white shadow-md",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center max-w-screen-xl mx-auto",children:[e.jsx("h1",{className:"m-0 text-lg font-semibold bg-gradient-to-r from-white to-[#e2e8f0] bg-clip-text text-transparent sm:mb-0 mb-2 sm:text-xl text-center sm:text-left",children:"Communication Tracking Calendar"}),e.jsxs("div",{className:"flex items-center gap-2 max-w-[300px] flex-1 sm:mb-0 mb-2",children:[e.jsx("input",{type:"text",className:"px-3 py-2 rounded-xl text-black w-full focus:outline-none text-sm",placeholder:"Search...",onChange:f=>U(f.target.value)}),e.jsx("i",{className:"fas fa-search text-[#4f46e5] text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>i(!0),className:"bg-white text-[#4f46e5] border-none px-3 py-2 rounded-xl font-medium flex items-center gap-1 cursor-pointer transition-all duration-300 ease-in-out hover:translate-y-[-1px] shadow-sm text-xs",children:[e.jsx("i",{className:"fas fa-plus text-xs"})," Create communication"]}),e.jsxs("button",{onClick:()=>E("/login"),className:"bg-white text-[#4f46e5] border-none px-3 py-2 rounded-xl font-medium flex items-center gap-1 cursor-pointer transition-all duration-300 ease-in-out hover:translate-y-[-1px] shadow-sm text-xs",children:[e.jsx("i",{className:"fas fa-sign-out-alt text-xs"})," Signout"]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-1 justify-center sm:justify-start",children:[e.jsx("span",{className:`cursor-pointer py-1 px-3 rounded-xl font-medium transition-all duration-300 ease-in-out hover:bg-white hover:text-[#4f46e5] ${T==="overView"?"bg-white text-[#4f46e5] font-semibold shadow-sm":"text-[#e2e8f0]"} `,onClick:()=>G("overView"),children:"Overview"}),e.jsx("span",{className:`cursor-pointer py-1 px-3 rounded-xl font-medium transition-all duration-300 ease-in-out hover:bg-white hover:text-[#4f46e5] ${T==="calender"?"bg-white text-[#4f46e5] font-semibold shadow-sm":"text-[#e2e8f0]"} `,onClick:()=>G("calender"),children:"Calendar View"})]})]}),e.jsx("div",{className:"dashboard-layout",children:T==="overView"?e.jsxs("div",{className:"sidebar-section",children:[e.jsx(ge,{events:P,openEditModal:M,onDelete:O}),e.jsxs("div",{children:[e.jsx(he,{events:P,openEditModal:M,onDelete:O}),e.jsx(ve,{events:P})]}),e.jsx(Ce,{events:P})]}):e.jsx("div",{className:"calendar-section",children:e.jsx(X,{events:P})})}),r&&e.jsx(fe,{showModal:r,newEvent:l,handleInputChange:v,handleSubmitNewEvent:q,closeModal:()=>i(!1)}),o&&e.jsx(be,{event:N,onSubmit:B,closeModal:()=>n(!1)})]})},Ee=()=>{const[s,a]=g.useState({email:"",password:"",userType:"user",showPassword:!1});g.useEffect(()=>{localStorage.removeItem("token"),localStorage.removeItem("isAuthenticated")},[]);const r=n=>{const{name:d,value:m}=n.target;a(l=>({...l,[d]:m}))},i=()=>{a(n=>({...n,showPassword:!n.showPassword}))},o=async n=>{var d,m;if(n.preventDefault(),s.password.length<6){alert("Password must be at least 6 characters long.");return}try{const l=await je(s);if(l&&l.token&&l.user&&l.user.userType)localStorage.setItem("token",l.token),localStorage.setItem("isAuthenticated",!0),window.location.href=l.user.userType==="admin"?"/adminDashboard":"/dashboard";else throw new Error("Invalid response structure from server.")}catch(l){alert(((m=(d=l.response)==null?void 0:d.data)==null?void 0:m.message)||"Login failed. Please check your credentials and try again.")}};return e.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-r from-blue-500 via-purple-600 to-indigo-800",children:e.jsxs("div",{className:"w-full max-w-sm bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-semibold text-center mb-6 text-indigo-700",children:"Login"}),e.jsxs("form",{onSubmit:o,children:[e.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:r,className:"w-full p-3 mb-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:s.showPassword?"text":"password",name:"password",placeholder:"Password",value:s.password,onChange:r,className:"w-full p-3 mb-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),e.jsx("button",{type:"button",onClick:i,className:"absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-500",children:s.showPassword?e.jsx(I,{}):e.jsx(F,{})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Login as:"}),e.jsxs("select",{name:"userType",value:s.userType,onChange:r,className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-md font-semibold hover:bg-indigo-500 transition duration-200",children:"Login"})]}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx(L,{to:"/forgot-password",className:"text-indigo-600 hover:underline",children:"Forgot Password?"}),e.jsxs("p",{className:"mt-2",children:["Don't have an account? ",e.jsx(L,{to:"/sign-up",className:"text-indigo-600 hover:underline",children:"Sign Up"})]})]})]})})},Pe=()=>{const[s,a]=g.useState({name:"",email:"",password:"",confirmPassword:"",userType:"user",showPassword:!1,showConfirmPassword:!1}),r=$();g.useEffect(()=>{localStorage.removeItem("token"),localStorage.removeItem("isAuthenticated")},[]);const i=d=>{const{name:m,value:l}=d.target;a(c=>({...c,[m]:l}))},o=d=>{a(m=>({...m,[d]:!m[d]}))},n=async d=>{var m,l;if(d.preventDefault(),s.password.length<6){alert("Password must be at least 6 characters long.");return}if(s.password!==s.confirmPassword){alert("Passwords do not match");return}try{const c=await Ne(s);console.log(c),r("/login")}catch(c){alert(((l=(m=c.response)==null?void 0:m.data)==null?void 0:l.message)||"Sign Up failed. Please try again.")}};return e.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-r from-blue-500 via-purple-600 to-indigo-800",children:e.jsxs("div",{className:"w-full max-w-sm bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-semibold text-center mb-6 text-indigo-700",children:"Sign Up"}),e.jsxs("form",{onSubmit:n,children:[e.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:s.name,onChange:i,className:"w-full p-3 mb-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),e.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:i,className:"w-full p-3 mb-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:s.showPassword?"text":"password",name:"password",placeholder:"Password",value:s.password,onChange:i,className:"w-full p-3 mb-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),e.jsx("button",{type:"button",onClick:()=>o("showPassword"),className:"absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-500",children:s.showPassword?e.jsx(I,{}):e.jsx(F,{})})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:s.showConfirmPassword?"text":"password",name:"confirmPassword",placeholder:"Confirm Password",value:s.confirmPassword,onChange:i,className:"w-full p-3 mb-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),e.jsx("button",{type:"button",onClick:()=>o("showConfirmPassword"),className:"absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-500",children:s.showConfirmPassword?e.jsx(I,{}):e.jsx(F,{})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Sign up as:"}),e.jsxs("select",{name:"userType",value:s.userType,onChange:i,className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-md font-semibold hover:bg-indigo-500 transition duration-200",children:"Sign Up"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(L,{to:"/login",className:"text-indigo-600 hover:underline",children:"Already have an account? Login"})})]})})},ke=()=>{const[s,a]=g.useState(""),[r,i]=g.useState(""),[o,n]=g.useState(!1),d=$();g.useEffect(()=>{localStorage.removeItem("token"),localStorage.removeItem("isAuthenticated")},[]);const m=async c=>{var x,j;if(c.preventDefault(),r.length<6){alert("Password must be at least 6 characters long.");return}try{await we(s,r),d("/login")}catch(N){alert(((j=(x=N.response)==null?void 0:x.data)==null?void 0:j.message)||"Error resetting password. Please try again.")}},l=()=>{n(!o)};return e.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-r from-blue-500 via-purple-600 to-indigo-800",children:e.jsxs("div",{className:"w-full max-w-sm bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-semibold text-center mb-6 text-indigo-700",children:"Forgot Password"}),e.jsxs("form",{onSubmit:m,children:[e.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:s,onChange:c=>a(c.target.value),className:"w-full p-3 mb-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:o?"text":"password",name:"newPassword",placeholder:"Enter new password",value:r,onChange:c=>i(c.target.value),className:"w-full p-3 mb-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),e.jsx("button",{type:"button",onClick:l,className:"absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-500",children:o?e.jsx(I,{}):e.jsx(F,{})})]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-md font-semibold hover:bg-indigo-500 transition duration-200",children:"Reset Password"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(L,{to:"/login",className:"text-indigo-600 hover:underline",children:"Login"})})]})})},De=({events:s,onSubmit:a,closeModal:r})=>{const[i,o]=g.useState([]);g.useEffect(()=>{o(s||[])},[s]);const n=(l,c)=>{const{name:x,value:j}=l.target;o(N=>{const w=[...N];return w[c]={...w[c],[x]:j},w})},d=l=>{if(l.preventDefault(),i.find(x=>!x.date||isNaN(new Date(x.date)))){console.error("Error: Some events have missing or invalid dates.");return}a(i)},m=l=>l?new Date(l).toISOString().slice(0,16):"";return i.length?e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex justify-center items-center z-50 animate-fade-in",children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-100 p-6 rounded-3xl w-11/12 max-w-4xl max-h-[90vh] overflow-auto shadow-2xl backdrop-blur-lg animate-slide-in",children:[e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2 mb-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Edit Events"}),e.jsx("button",{className:"text-2xl text-gray-500 hover:text-red-600 transition-transform transform hover:rotate-90",onClick:r,children:"×"})]}),e.jsxs("form",{onSubmit:d,children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:i.map((l,c)=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-4",children:l.companyName}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Company Name"}),e.jsx("input",{type:"text",name:"companyName",value:l.companyName||"",onChange:x=>n(x,c),readOnly:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Meeting Goal"}),e.jsx("input",{type:"text",name:"meetingGoal",value:l.meetingGoal||"",onChange:x=>n(x,c),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:l.location||"",onChange:x=>n(x,c),readOnly:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"LinkedIn Profile"}),e.jsx("input",{type:"text",name:"linkedinProfile",value:l.linkedinProfile||"",onChange:x=>n(x,c),readOnly:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"emails",value:l.emails||"",onChange:x=>n(x,c),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Phone Numbers"}),e.jsx("input",{type:"text",name:"phoneNumbers",value:l.phoneNumbers||"",onChange:x=>n(x,c),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Method"}),e.jsxs("select",{name:"communicationMethod",value:l.communicationMethod||"",onChange:x=>n(x,c),disabled:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"LinkedIn Post",children:"LinkedIn Post"}),e.jsx("option",{value:"LinkedIn Message",children:"LinkedIn Message"}),e.jsx("option",{value:"Email",children:"Email"}),e.jsx("option",{value:"Phone Call",children:"Phone Call"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Status"}),e.jsxs("select",{name:"communicationStatus",value:l.communicationStatus||"",onChange:x=>n(x,c),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Overdue",children:"Overdue"}),e.jsx("option",{value:"Due Today",children:"Due Today"}),e.jsx("option",{value:"Upcoming",children:"Upcoming"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Comments"}),e.jsx("textarea",{name:"comments",value:l.comments||"",onChange:x=>n(x,c),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Comments",rows:"3"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Periodicity"}),e.jsx("input",{type:"text",name:"communicationPeriodicity",value:l.communicationPeriodicity||"",onChange:x=>n(x,c),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"e.g., every 3 weeks"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Date"}),e.jsx("input",{type:"datetime-local",name:"date",value:m(l.date||""),onChange:x=>n(x,c),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",min:new Date().toISOString().slice(0,16)})]})]},c))}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-1.5 bg-gray-200 text-gray-600 font-semibold rounded-lg hover:bg-gray-300 hover:text-gray-800 transition transform hover:scale-105 text-xs",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-blue-700 hover:shadow-lg transition transform hover:scale-105 text-xs",children:"Submit"})]})]})]})}):null},Ae=({events:s,onSubmit:a,closeModal:r})=>{const[i,o]=g.useState([]);g.useEffect(()=>{o(s||[])},[s]);const n=(m,l)=>{const{name:c,value:x}=l.target;o(j=>j.map((N,w)=>w===m?{...N,[c]:x}:N))},d=m=>{m.preventDefault(),a(i)};return e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex justify-center items-center z-50 animate-fade-in",children:e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-100 p-6 rounded-3xl w-11/12 max-w-4xl max-h-[90vh] overflow-auto shadow-2xl backdrop-blur-lg animate-slide-in",children:[e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2 mb-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800",children:"Update Statuses"}),e.jsx("button",{className:"text-2xl text-gray-500 hover:text-red-600 transition-transform transform hover:rotate-90",onClick:r,children:"×"})]}),e.jsxs("form",{onSubmit:d,children:[i.map((m,l)=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6 border-b border-gray-300 pb-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Company Name"}),e.jsx("input",{type:"text",name:"companyName",value:m.companyName||"",onChange:c=>n(l,c),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",placeholder:"Enter Company Name",disabled:!0})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-700 font-semibold text-sm mb-1",children:"Communication Status"}),e.jsxs("select",{name:"communicationStatus",value:m.communicationStatus||"",onChange:c=>n(l,c),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Overdue",children:"Overdue"}),e.jsx("option",{value:"Due Today",children:"Due Today"}),e.jsx("option",{value:"Upcoming",children:"Upcoming"})]})]})]},l)),e.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-1.5 bg-gray-200 text-gray-600 font-semibold rounded-lg hover:bg-gray-300 hover:text-gray-800 transition transform hover:scale-105 text-xs",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-blue-700 hover:shadow-lg transition transform hover:scale-105 text-xs",children:"Save Changes"})]})]})]})})},Te=()=>{const[s,a]=g.useState("overView"),[r,i]=g.useState([]),[o,n]=g.useState([]),[d,m]=g.useState(!1),[l,c]=g.useState(!0),[x,j]=g.useState([]),[N,w]=g.useState(!1),[T,G]=g.useState(null),[E,U]=g.useState(null),P=$();g.useEffect(()=>{O()},[]);const R=()=>{localStorage.removeItem("token"),localStorage.removeItem("isAuthenticated"),P("/login")},O=async()=>{try{c(!0);const u=(await Y()).map(p=>({...p,date:new Date(p.date)}));n(u)}catch(t){console.error("Error loading events:",t)}finally{c(!1)}},M=async t=>{try{const u=t.map(h=>({...h,date:new Date(h.date),emails:Array.isArray(h.emails)?h.emails:[],phoneNumbers:Array.isArray(h.phoneNumbers)?h.phoneNumbers:[]})),p=await Z(u);n(h=>[...h,...u.map(C=>({...C,date:new Date(C.date)}))]),m(!1)}catch(u){console.error("Error creating event:",u)}},v=t=>{i(u=>u.includes(t)?u.filter(p=>p!==t):[...u,t])},q=()=>{const t=o.filter(h=>r.includes(h.companyName)),p=Array.from(new Set(t.map(h=>h.companyName))).map(h=>t.find(C=>C.companyName===h)).map(h=>({companyName:h.companyName,location:h.location||"N/A",linkedinProfile:h.linkedinProfile||"N/A",emails:Array.isArray(h.emails)?h.emails:["N/A"],phoneNumbers:Array.isArray(h.phoneNumbers)?h.phoneNumbers:["N/A"],communicationMethod:h.communicationMethod||"N/A",communicationStatus:h.communicationStatus||"N/A"}));j(p),m(!0)},B=o.reduce((t,u)=>(t[u.companyName]||(t[u.companyName]=[]),t[u.companyName].push(u),t),{}),f=Object.entries(B).map(([t,u])=>{u.sort((S,ee)=>b(S.date).diff(b(ee.date)));const p=[...u].reverse().find(S=>b(S.date).isBefore(new Date)),h=u.find(S=>b(S.date).isAfter(new Date));let C="";if(h&&h.communicationStatus){const S=h.communicationStatus;S==="Overdue"?C="red":S==="Due Today"&&(C="yellow")}return{companyName:t,recentMeeting:p||null,nextMeeting:h||null,highlight:C}}),y=E?f.filter(t=>{var u;return(u=t==null?void 0:t.companyName)==null?void 0:u.toLowerCase().includes(E==null?void 0:E.toLowerCase())}):f;return e.jsxs("div",{children:[e.jsxs("header",{className:"bg-gradient-to-r from-[#4f46e5] to-[#6366f1] p-4 text-white shadow-md",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center max-w-screen-xl mx-auto",children:[e.jsx("h1",{className:"m-0 text-lg font-semibold bg-gradient-to-r from-white to-[#e2e8f0] bg-clip-text text-transparent sm:mb-0 mb-2 sm:text-xl text-center sm:text-left",children:"Communication Tracking Calendar"}),e.jsxs("div",{className:"flex items-center gap-2 max-w-[300px] flex-1 sm:mb-0 mb-2",children:[e.jsx("input",{type:"text",value:E||"",onChange:t=>U(t.target.value),placeholder:"Search by company name",className:"px-3 py-2 rounded-lg border-none text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#4f46e5] w-full sm:max-w-xs"}),e.jsx("i",{className:"fas fa-search text-[#4f46e5] text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:mt-0 mt-2",children:[e.jsxs("button",{className:"bg-white text-[#4f46e5] border-none px-3 py-2 rounded-xl font-medium flex items-center gap-1 cursor-pointer transition-all duration-300 ease-in-out hover:translate-y-[-1px] shadow-sm text-xs",onClick:q,children:[e.jsx("i",{className:"fas fa-plus text-xs"})," Log communication"]}),e.jsxs("button",{onClick:R,className:"bg-white text-[#4f46e5] border-none px-3 py-2 rounded-xl font-medium flex items-center gap-1 cursor-pointer transition-all duration-300 ease-in-out hover:translate-y-[-1px] shadow-sm text-xs",children:[e.jsx("i",{className:"fas fa-sign-out-alt text-xs"})," Signout"]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-3 justify-center sm:justify-start",children:[e.jsx("span",{className:`cursor-pointer py-1 px-3 rounded-xl font-medium transition-all duration-300 ease-in-out hover:bg-white hover:text-[#4f46e5] ${s==="overView"?"bg-white text-[#4f46e5] font-semibold shadow-sm":"text-[#e2e8f0]"}`,onClick:()=>a("overView"),children:"Overview"}),e.jsx("span",{className:`cursor-pointer py-1 px-3 rounded-xl font-medium transition-all duration-300 ease-in-out hover:bg-white hover:text-[#4f46e5] ${s==="calender"?"bg-white text-[#4f46e5] font-semibold shadow-sm":"text-[#e2e8f0]"}`,onClick:()=>a("calender"),children:"Calendar View"})]})]}),s==="overView"?e.jsxs("div",{className:"flex h-screen",children:[e.jsxs("div",{className:"w-1/4 p-4 bg-gray-100 h-full",children:[e.jsxs("h2",{className:"font-bold text-lg mb-4",children:["Today's Events (",o.filter(t=>b(t.date).isSame(new Date,"day")).length,")"]}),e.jsx("div",{className:"h-[calc(100vh-8rem)] overflow-y-auto",children:o.filter(t=>b(t.date).isSame(new Date,"day")).length>0?o.filter(t=>b(t.date).isSame(new Date,"day")).map((t,u)=>e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-md mb-3",children:[e.jsx("p",{className:"font-semibold",children:t.companyName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Time:"})," ",b(t.date).format("h:mm A")]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Details:"})," ",t.communicationMethod||"N/A"]})]},u)):e.jsx("p",{className:"text-gray-500",children:"No events for today."})})]}),e.jsx("div",{className:"w-3/4 p-4 bg-white overflow-y-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"h-[calc(100vh-8rem)] overflow-y-auto",children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 text-red-600",children:["Overdue (",y.filter(({nextMeeting:t})=>(t==null?void 0:t.communicationStatus)==="Overdue").length,")"]}),y.filter(({nextMeeting:t})=>(t==null?void 0:t.communicationStatus)==="Overdue").map(({companyName:t,recentMeeting:u,nextMeeting:p})=>e.jsxs("div",{className:"bg-white shadow-md p-4 rounded-lg border bg-red-200 border-red-400 cursor-pointer mb-4",onClick:()=>v(t),children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{type:"checkbox",id:`company-overdue-${t}`,checked:r.includes(t),onChange:h=>{h.stopPropagation(),v(t)},className:"mr-2 cursor-pointer"}),e.jsx("label",{htmlFor:`company-overdue-${t}`,className:"font-semibold text-lg",children:t})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("strong",{children:"Recent Meeting:"})," ",u?b(u.date).format("MMM D, h:mm A"):"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Next Meeting:"})," ",p?b(p.date).format("MMM D, h:mm A"):"N/A"]})]},t))]}),e.jsxs("div",{className:"h-[calc(100vh-8rem)] overflow-y-auto",children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 text-yellow-600",children:["Due Today (",y.filter(({nextMeeting:t})=>(t==null?void 0:t.communicationStatus)==="Due Today").length,")"]}),y.filter(({nextMeeting:t})=>(t==null?void 0:t.communicationStatus)==="Due Today").map(({companyName:t,recentMeeting:u,nextMeeting:p})=>e.jsxs("div",{className:"bg-white shadow-md p-4 rounded-lg border bg-yellow-100 border-yellow-400 cursor-pointer mb-4",onClick:()=>v(t),children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{type:"checkbox",id:`company-due-today-${t}`,checked:r.includes(t),onChange:h=>{h.stopPropagation(),v(t)},className:"mr-2 cursor-pointer"}),e.jsx("label",{htmlFor:`company-due-today-${t}`,className:"font-semibold text-lg",children:t})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("strong",{children:"Recent Meeting:"})," ",u?b(u.date).format("MMM D, h:mm A"):"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Next Meeting:"})," ",p?b(p.date).format("MMM D, h:mm A"):"N/A"]})]},t))]}),e.jsxs("div",{className:"h-[calc(100vh-8rem)] overflow-y-auto",children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 text-green-600",children:["Upcoming (",y.filter(({nextMeeting:t})=>!["Overdue","Due Today"].includes(t==null?void 0:t.communicationStatus)).length,")"]}),y.filter(({nextMeeting:t})=>!["Overdue","Due Today"].includes(t==null?void 0:t.communicationStatus)).map(({companyName:t,recentMeeting:u,nextMeeting:p})=>e.jsxs("div",{className:"bg-white shadow-md p-4 rounded-lg border bg-green-100 border-green-400 cursor-pointer mb-4",onClick:()=>v(t),children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{type:"checkbox",id:`company-upcoming-${t}`,checked:r.includes(t),onChange:h=>{h.stopPropagation(),v(t)},className:"mr-2 cursor-pointer"}),e.jsx("label",{htmlFor:`company-upcoming-${t}`,className:"font-semibold text-lg",children:t})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("strong",{children:"Recent Meeting:"})," ",u?b(u.date).format("MMM D, h:mm A"):"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Next Meeting:"})," ",p?b(p.date).format("MMM D, h:mm A"):"N/A"]})]},t))]})]})})]}):e.jsx(X,{events:o}),d&&e.jsx(De,{events:x,closeModal:()=>m(!1),onSubmit:M}),N&&e.jsx(Ae,{events:T,closeModal:()=>w(!1)})]})},V=({element:s})=>{const a=localStorage.getItem("token"),r=localStorage.getItem("isAuthenticated")==="true";return a&&r?s:e.jsx(W,{to:"/login"})},Le=()=>e.jsxs("div",{style:{textAlign:"center",marginTop:"50px"},children:[e.jsx("h1",{children:"404 - Page Not Found"}),e.jsx("p",{children:"The page you are looking for does not exist."}),e.jsx(L,{to:"/login",children:"Go Back to Login"})]});function Oe(){return e.jsx(ce,{children:e.jsxs(de,{children:[e.jsx(k,{path:"/",element:e.jsx(W,{to:"/login"})}),e.jsx(k,{path:"/login",element:e.jsx(Ee,{})}),e.jsx(k,{path:"/sign-up",element:e.jsx(Pe,{})}),e.jsx(k,{path:"/forgot-password",element:e.jsx(ke,{})}),e.jsx(k,{path:"/adminDashboard",element:e.jsx(V,{element:e.jsx(Se,{})})}),e.jsx(k,{path:"/dashboard",element:e.jsx(V,{element:e.jsx(Te,{})})}),e.jsx(k,{path:"*",element:e.jsx(Le,{})})]})})}me.createRoot(document.getElementById("root")).render(e.jsx(Oe,{}));
